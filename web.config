<?xml version="1.0" encoding="utf-8"?>
<configuration>
  <system.webServer>
    <!-- Enable WebSocket for real-time features -->
    <webSocket enabled="true" />

    <!-- Configure MIME types -->
    <staticContent>
      <mimeMap fileExtension=".json" mimeType="application/json" />
      <mimeMap fileExtension=".wasm" mimeType="application/wasm" />
    </staticContent>

    <!-- Hide sensitive files and folders -->
    <security>
      <requestFiltering>
        <hiddenSegments>
          <add segment="node_modules" />
        </hiddenSegments>
        <fileExtensions>
          <add fileExtension=".ts" allowed="false" />
          <add fileExtension=".tsx" allowed="false" />
          <add fileExtension=".js" allowed="false" />
          <add fileExtension=".jsx" allowed="false" />
        </fileExtensions>
      </requestFiltering>
    </security>

    <!-- Disable directory browsing -->
    <directoryBrowse enabled="false" />

    <!-- Let the Node.js process handle all routing via STARTUP command -->
    <!-- The STARTUP setting runs "npm start" which starts Next.js server -->
    <!-- Next.js listens on port 3000 (mapped by Azure to 80/443) -->
  </system.webServer>
</configuration>



